
"""
Docker containers do not save the data they produce. As soon as the process is finished, the container stops and everything inside of it is removed.

If you want to have persistent data that is stored even after the container stops, you need to enable sharing storage volumes.

For mounting volumes use the -v attribute with the specified location of the directory where you want to save the data, followed by where that data will be located inside the container.

-v [/host/volume/location]:[/container/storage]

Once a container executes its tasks, it stops, but the file system it consists of remains on the system.

If you only need a container to execute the outlined task and have no use of it or its file system afterward, you can set it up to delete once it is done.

To run a container that will be automatically removed after exiting use the command:

docker container run --rm [docker_image]

docker run -it --rm --name my-running-script -v "$PWD":/usr/src/myapp -w /usr/src/myapp python:3.7-alpine python script_to_run.py

preexec_fn can be used to limit the use of resources if docker is not available
(see https://stackoverflow.com/questions/1689505/python-ulimit-and-nice-for-subprocess-call-subprocess-popen)
However, preexec_fn is not supported on Windows platforms.

"""

# Backlog

- [ ] autojudge should use docker
- [ ] teachers define time limits for submissions.
- [ ] check if "python" is found. If not, use "python3".
- [ ] teachers - edit or submit new docker images to run programs.
- [ ] teachers should be able of adding tests in questions to check if 
 files were submitted or generated by the program and if their content 
 is correct.
- [ ] teachers should be able of easily writting custom evaluation scripts.
- [ ] teachers should be able of seeing students performance
- [ ] in the teacher and admin interface, present system health information (docker is running, etc.)
- [ ] Use question's creation flow in the other models.
- [ ] Drag and drop questions between sections.
- [ ] Attach files to the question description.
- [ ] Drag and drop sections to change order.
- [ ] Control visibility of courses, sections, questions, and tests.
- [ ] Limit teacher permissions to prevent people from registering as teacher and acessing the admin page.
- [ ] Import and export questions from/to BOCA.
- [ ] Import users from file (similar to BOCA).
- [ ] Add checks for login, permissions, and groups in all views
- [ ] When user is not allowed to perform an action, it is currently redirected to
the main page (courses). Redirect to the error page instead.
- [ ] Use JS in the question editor to prevent annoying page jumps.
- [ ] Better e-mail check.
- [ ] In autojudge, separate tests in multiple classes.
- [ ] Process input and output tests when submitted and not when running tests.
- [ ] Write unit tests

# Bugs 

- [ ] Autofocus on file submission in question-detail

- [ ] In most forms, when the user (1) click in delete, (2) cancel the delete, and (3) 
click the "back" hyperlink in the form page, it returns to the delete page. This is 
a bit challenging to make right because the user can arrive in the form page from 
different pages.



